{"version":3,"sources":["reducers/bet.js","containers/PlayBox.js","actions/bet.js","containers/GamePlay.js","containers/Bet.js","components/App.js","reducers/index.js","index.js"],"names":["initialState","bets","state","action","type","result","filter","obj","name","length","value","map","bet","PlayBox","Component","this","props","handleMinus","event","preventDefault","setState","dispatch","handlePlus","render","className","style","onClick","disabled","connect","GamePlay","React","constructor","super","items","item","i","key","Bet","App","backgroundPosition","shake","bind","alert","randomItem","coin","forEach","count","countValue","kq","max","rand","Math","floor","random","arrItems","itemToCheck","combineReducers","store","createStore","reducers","window","__REDUX_DEVTOOLS_EXTENSION__","element","document","getElementById","Error"],"mappings":"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","file":"static/js/main.a5dd2475.chunk.js","sourcesContent":["// @flow\r\n\r\nimport type {BetValue, AddBetAction, Bet, BetName } from '../types/bet';\r\nimport type { Action } from '../types';\r\n\r\nconst initialState = {\r\n    bets: [],\r\n  }\r\n\r\nconst addBet = (name: BetName, value: BetValue): Bet => ({\r\n    name,\r\n    value\r\n  });\r\n\r\nconst bets = (state= initialState.bets, action: Action) => {\r\n  switch (action.type) {\r\n    case 'PLUS_BET':\r\n        var result = state.filter(obj => {\r\n            return obj.name === action.name\r\n        });\r\n        if(result.length > 0) { // Đã đặt cược thì cập nhật thêm giá\r\n            result[0].value += action.value;\r\n            return [ ...state];\r\n        }else {\r\n            return [ ...state, addBet(action.name, action.value)];\r\n        }\r\n    case 'MINUS_BET':\r\n        return state.map(bet => {\r\n            if(bet.name === action.name){\r\n                bet.value -= action.value;\r\n            }\r\n            return bet;\r\n        })\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport default bets;\r\n","// @flow\r\n\r\nimport React, { Component } from 'react';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { plusBet, minusBet } from '../actions/bet';\r\n\r\nimport type { Dispatch } from '../types';\r\n\r\nimport './Playbox.css';\r\n\r\nexport type Props = {\r\n  style: Object,\r\n  dispatch: Dispatch\r\n};\r\n\r\nexport type State = {\r\n  value: Number\r\n};\r\n\r\nclass PlayBox extends Component<Props, State> {\r\n  state = {\r\n    value: this.props.value\r\n  };\r\n \r\n  handleMinus = (event: Event) => {\r\n    event.preventDefault();\r\n    if (this.state.value === 0) {\r\n      return;\r\n    }\r\n    this.setState({ value: this.state.value - 10 });\r\n    this.props.dispatch(minusBet(this.props.name, 10));\r\n  };\r\n\r\n  handlePlus = (event: Event) => {\r\n    event.preventDefault();\r\n    this.setState({ value: this.state.value +10 });\r\n    this.props.dispatch(plusBet(this.props.name, 10));\r\n  };\r\n \r\n  render() {\r\n    return (\r\n      <div className=\"playBox\">\r\n          <div className=\"playItem\" style={this.props.style}></div>\r\n          <div className =\"boxControl\">\r\n          <button onClick={this.handleMinus}><i className=\"fa fa-minus\"></i></button>\r\n          <input disabled value={this.state.value}/>\r\n          <button onClick={this.handlePlus}><i className=\"fa fa-plus\"></i></button>\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default connect()(PlayBox);\r\n","import type { BetValue, BetName, AddBetAction } from '../types/bet';\r\n\r\n\r\nexport const plusBet = (name:BetName,  value: BetValue): AddBetAction => {\r\n  return {\r\n    type: 'PLUS_BET',\r\n    value: value,\r\n    name: name\r\n  };\r\n};\r\n\r\nexport const minusBet = (name:BetName, value: BetValue): AddBetAction => {\r\n    return {\r\n      type: 'MINUS_BET',\r\n      value: value,\r\n      name:name\r\n    };\r\n  };","import React from 'react';\r\nimport PlayBox from './PlayBox';\r\n\r\nclass GamePlay extends React.Component{\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    \r\n    render(){\r\n        return this.props.items.map(function (item, i) {\r\n            return <PlayBox key={i} name={item.name} value={item.value}  style={item.style}/>\r\n          });\r\n    }\r\n  }\r\n  \r\n  export default GamePlay","import React from 'react';\r\nimport PlayBox from './PlayBox';\r\n\r\nclass Bet extends React.Component{\r\n    constructor(props) {\r\n      super(props);\r\n    }\r\n    \r\n    render(){\r\n        return <div>\r\n            {this.props.items.map(function (item, i) {\r\n            return <div key={i}>\r\n                {item.name} - {item.value}\r\n            </div>\r\n          })}\r\n          <button onClick= {this.props.onClick}>Lắc</button>\r\n        </div>;\r\n    }\r\n  }\r\n  \r\n  export default Bet","// @flow\r\n\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport bets from '../reducers/bet'\r\n\r\nimport GamePlay from '../containers/GamePlay';\r\nimport Bet from '../containers/Bet';\r\nimport 'font-awesome/css/font-awesome.min.css';\r\nimport './App.css';\r\n\r\nclass App extends React.Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.items = [\r\n      {\r\n        name:\"Nai\",\r\n        style :{backgroundPosition: '-28px -75px'},\r\n        value: 0\r\n      },\r\n      {\r\n        name:\"Bau\",\r\n        style :{backgroundPosition: '-435px -75px'},\r\n        value: 0\r\n      },\r\n      {\r\n        name:\"Ga\",\r\n        style :{backgroundPosition: '-845px -75px'},\r\n        value: 0\r\n      },\r\n      {\r\n        name:\"Ca\",\r\n        style :{backgroundPosition: '-28px -385px'},\r\n        value: 0\r\n      },\r\n      {\r\n        name:\"Cua\",\r\n        style :{backgroundPosition: '-435px -385px'},\r\n        value: 0\r\n      },\r\n      {\r\n        name:\"Tom\",\r\n        style :{backgroundPosition: '-845px -385px'},\r\n        value: 0\r\n      }\r\n    ]\r\n    this.shake =  this.shake.bind(this);\r\n    //this.randomItem =  this.randomItem.bind(this);\r\n  }\r\n  shake(){\r\n    var bets = this.props.bets; \r\n    if( bets && bets.length < 1) {\r\n      return alert(\"Vui lòng đặt số\");\r\n    }\r\n    var result = [this.randomItem(),this.randomItem(), this.randomItem()];\r\n    var coin = 0;\r\n    bets.forEach(item =>{\r\n        var count = this.countValue(result, item.name);\r\n        if(count > 0){\r\n          coin += count * item.value;\r\n        }else {\r\n          coin -= item.value;\r\n        }\r\n    });\r\n    var kq =\"\";\r\n    result.map(item => kq += \" \" + item.name);\r\n    alert(kq + \" \" + coin);\r\n  }\r\n\r\n  randomItem(){\r\n    const min = 0;\r\n    const max = this.items.length;\r\n    const rand = Math.floor(Math.random() * max)+ min;\r\n    return this.items[rand];\r\n  }\r\n  \r\n  countValue(arrItems, itemToCheck){\r\n    var result = 0;\r\n    arrItems.map(item =>{\r\n      if(item.name == itemToCheck){\r\n        return result += 1;\r\n      }\r\n    });\r\n    return result;\r\n  }\r\n  render(){\r\n    return <div>\r\n        <GamePlay items = {this.items}/>\r\n        <Bet items = {this.props.bets} onClick = {this.shake} />\r\n    </div>\r\n    \r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  bets: state.bets,\r\n})\r\nexport default connect(mapStateToProps)(App)","// @flow\r\n\r\nimport { combineReducers } from 'redux';\r\n\r\nimport bets from  './bet';\r\nexport default combineReducers({\r\n  bets\r\n});","// @flow\r\n\r\nimport React from 'react';\r\nimport { render } from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore } from 'redux';\r\n\r\nimport App from './components/App';\r\nimport reducers from './reducers';\r\n\r\nimport type { Store } from './types';\r\n\r\nconst store: Store = createStore(\r\n  reducers,\r\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\r\n);\r\nconst element = document.getElementById('root');\r\nif (!element) {\r\n  throw new Error(\"couldn't find element with id root\")\r\n}\r\nrender(\r\n  <Provider store={store}>\r\n    <App />\r\n  </Provider>,\r\n  element\r\n);\r\n"],"sourceRoot":""}